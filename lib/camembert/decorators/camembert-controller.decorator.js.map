{"version":3,"file":"camembert-controller.decorator.js","sourceRoot":"","sources":["../../../src/lib/decorators/camembert-controller.decorator.ts"],"names":[],"mappings":"AAAA,OAAO,kBAAkB,CAAC;AAC1B,OAAO,EAAE,mBAAmB,EAAE,MAAM,qCAAqC,CAAC;AAE1E,MAAM,CAAC,MAAM,8BAA8B,GAAG,MAAM,CAAC,gCAAgC,CAAC,CAAC;AAEvF;;;;;;GAMG;AACH,MAAM,UAAU,mBAAmB,CAAC,IAAa;IAC/C,OAAO,CAAC,MAAc,EAAE,EAAE;QAExB,mBAAmB,EAAE,CAAC,MAAM,CAAC,CAAC;QAE9B,MAAM,OAAO,GAAG,OAAO,CAAC,WAAW,CAAC,8BAA8B,EAAE,mBAAmB,CAAC,IAAI,EAAE,CAAC;QAE/F,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAErB,OAAO,CAAC,cAAc,CAAC,8BAA8B,EAAE,OAAO,EAAE,mBAAmB,CAAC,CAAC;QAErF,OAAO,CAAC,cAAc,CAAC,8BAA8B,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IACvE,CAAC,CAAA;AACH,CAAC","sourcesContent":["import \"reflect-metadata\";\nimport { CamembertInjectable } from \"./camembert-injectable.decorator.js\";\n\nexport const CamembertControllerMetadataKey = Symbol('CamembertControllerMetadataKey');\n\n/**\n * Camembert controller decorator\n *\n * @param path the path to prepend to all child routes i.e.: /admin\n * @returns {(target:Object)=>undefined}\n * @constructor\n */\nexport function CamembertController(path?: string) {\n  return (target: Object) => {\n\n    CamembertInjectable()(target);\n\n    const targets = Reflect.getMetadata(CamembertControllerMetadataKey, CamembertController) || [];\n\n    targets.push(target);\n\n    Reflect.defineMetadata(CamembertControllerMetadataKey, targets, CamembertController);\n\n    Reflect.defineMetadata(CamembertControllerMetadataKey, path, target);\n  }\n}\n"]}