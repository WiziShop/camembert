{"version":3,"file":"camembert-route.decorator.js","sourceRoot":"","sources":["../../../src/lib/decorators/camembert-route.decorator.ts"],"names":[],"mappings":"AAAA,OAAO,kBAAkB,CAAC;AAG1B,MAAM,CAAC,MAAM,iBAAiB,GAAG,MAAM,CAAC,mBAAmB,CAAC,CAAC;AAE7D;;;;;;;;;;;GAWG;AACH,MAAM,UAAU,cAAc,CAAC,UAAkB,EAAE,IAAa,EAAE,gBAAkC,EAAE,eAAiC;IACrI,OAAO,CAAC,MAAc,EAAE,WAAmB,EAAE,EAAE;QAE7C,MAAM,KAAK,GAAyB;YAClC,UAAU,EAAE,MAAM;YAClB,IAAI,EAAE,IAAI,IAAI,EAAE;YAChB,UAAU,EAAE,UAAU,CAAC,iBAAiB,EAAE;YAC1C,MAAM,EAAE,MAAM,CAAC,WAAW,CAAC;YAC3B,gBAAgB,EAAE,gBAAgB,IAAI,EAAE;YACxC,eAAe,EAAE,eAAe,IAAI,EAAE;SACvC,CAAC;QAEF,OAAO,CAAC,cAAc,CAAC,iBAAiB,EAAE,KAAK,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;IACxE,CAAC,CAAA;AACH,CAAC","sourcesContent":["import \"reflect-metadata\";\nimport { CamembertRouteConfig } from \"../interfaces/camembert-route-config.interface.js\";\n\nexport const CamembertRouteKey = Symbol('CamembertRouteKey');\n\n/**\n * Camembert route decorator\n *\n * Register a new HTTP route\n *\n * @param httpMethod the http method i.e.: GET, POST, DELETE...\n * @param path The route path i.e.: /login\n * @param beforeMiddleware an array of middleware to execute before the method we are decorating - [(req, res, next)=>void]\n * @param afterMiddleware an array of middleware to execute before the method we are decorating - [(req, res, next)=>void]\n * @returns {(target:Object, propertyKey:string)=>undefined}\n * @constructor\n */\nexport function CamembertRoute(httpMethod: string, path?: string, beforeMiddleware?: Array<Function>, afterMiddleware?: Array<Function>) {\n  return (target: Object, propertyKey: string) => {\n\n    const route: CamembertRouteConfig = {\n      controller: target,\n      path: path || '',\n      httpMethod: httpMethod.toLocaleLowerCase(),\n      action: target[propertyKey],\n      beforeMiddleware: beforeMiddleware || [],\n      afterMiddleware: afterMiddleware || [],\n    };\n\n    Reflect.defineMetadata(CamembertRouteKey, route, target[propertyKey]);\n  }\n}\n"]}